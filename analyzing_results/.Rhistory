#print(sampled_data_y)
#print(class(sampled_data_y))
sites_csem <- ncol(sampled_data_y) - 2
updated_values <- assimilate_data(particles_set[[data_s]], sampled_data_y, w1, df_vs, inverse_of_matrix_R(modus = data_s, sites_csem = sites_csem))
w1 <- updated_values$w1
df_vs <- updated_values$posterior_vs
chosen_alternative = make_decision(t, w1)
print(paste('Decision is at time t =', t, 'is',chosen_alternative))
print(paste('Updated value of w1 =',round(w1,3)))
list_weights[[step]] <- w1
list_v_values[[step]] <- df_vs
if(chosen_alternative == 'stop'){
stop_time <- t
print(paste('We choose to stop at time step t =',t))
break
}
}
#
return(list(w_values = list_weights, v_values = list_v_values, stop_time = stop_time, surveys = survey_data_list))
}
today <- format(Sys.time(), '%d%m%y%H%M%S')
file_out <- paste(path_out, 'prints_fixed_', today, '.txt', sep = '')
list_global <- list()
start <- proc.time()
for(k in 1:100){
print(k)
list_global[[k]] <- fixed_monitoring_plan(indexes_for_voi, index_survey = indexes_for_survey[k], survey_vector, time_vector, labels_array, parent_directory)
}
end <- proc.time()
file_out <- paste(path_out, 'list_fixed_', today, '.RData', sep = '')
save(list_global, file = file_out)
res <- summarize_results(list_global, indexes_for_survey, labels_array)
df_fixed_plan <- res$df
res$summary
res$meanings
df_stop_fixed <- df_fixed_plan %>% filter(binary_stop == 1)
df_continue_fixed <- df_fixed_plan %>% filter(binary_stop == 0)
# FN & FP
df_fn_fixed <- df_continue_fixed %>% filter(df_continue_fixed$scenario != df_continue_fixed$binary_stop)
df_fp_fixed <- df_stop_fixed %>% filter(df_stop_fixed$scenario != df_stop_fixed$binary_stop)
df <- df_fixed_plan
surveys <- df %>% select(c(survey_1, survey_2, survey_3, survey_4, survey_5, survey_6, survey_7, survey_8))
surveys[surveys == 'higher_seismic'] <- 2.1
surveys[surveys == 'lower_seismic'] <- 2.0
surveys[surveys == 'higher_csem'] <- 0.5
surveys[surveys == 'lower_csem'] <- 0.4
surveys[surveys == 'none'] <- 0.0
# average cost per ensemble
m <- as.numeric(as.matrix(surveys))
head(m)
m <- matrix(m, ncol = 8, byrow = FALSE)
mean(rowSums(m, na.rm = TRUE))
# average number of surveys
mean(rowSums(m > 0.0, na.rm = TRUE))
save.image(file = '/Users/susanany/phd_research/sequential_voi/code/analyzing_results/fixed_monitoring_111022_two_higher.RData')
#source('/Users/susanany/phd_research/co2_dynamic/code/simulation_case/src/functions.R')
parent_dir <- '/Users/susanany/phd_research/sequential_voi/code/'
source_name <- paste(parent_dir, 'simulation_case/src/functions.R', sep = '')
source(source_name)
load(paste(parent_dir, 'data/saturation_data/cases.RData', sep = ''))
indexes_for_voi <- new_partition_indexes(labels = labels_array, seed = 1234, size_of_partition = 300)
indexes_for_survey <- new_complement_indexes_balanced(labels = labels_array, indexes_for_voi, seed = 1234, size_of_partition = 100)
path_out <- paste(parent_dir, 'simulation_case/output/', sep = '')
###########
parent_directory <- parent_dir
#index_survey <- indexes_for_survey[5] # interesting case, if lower seismic at t=5 then stop, else higher seismic and we continue
# data vector index by time step
# inspect how these objects change over time: particles_set, survey_set
#survey_vector <- c('higher_seismic', 'higher_csem')
survey_vector <- c('lower_seismic', 'lower_csem')
time_vector <- c(5, 14)
#survey_vector <- c('lower_seismic', 'lower_csem', 'lower_seismic', 'lower_csem')
#survey_vector <- c('higher_seismic', 'higher_csem', 'higher_seismic', 'higher_csem')
#time_vector <- c(5, 14)
fixed_monitoring_plan <- function(indexes_for_voi, index_survey, survey_vector, time_vector, labels_array, parent_directory){
years <-time_vector
time_steps <- length(years)
stop_time <- 0
list_weights <- list()
list_v_values <- list()
survey_data_list <- list()
for (step in 1:time_steps){
particles_set <- list()
print(paste('length list particles=', length(particles_set)))
survey_set <- list()
# start block
t = years[step]
data_s <- survey_vector[step]
dataset <- load_realizations(data_s, t, labels_array, parent_directory)
sites_csem <- ncol(dataset) - 2
particles_set[[data_s]] <- new_select_realizations(dataset, indexes_for_voi)
print(paste('length list particles=', length(particles_set)))
survey_set[[data_s]] <- new_select_realizations(dataset, index_survey)
if(step==1){
w1 <- 0.25
df_vs <- new_set_initial_weights(particles_set[[data_s]])
}
print(paste('Current w1 =',round(w1,3)))
#data_alternative_list<- compute_data_alternative(results_t, price_list) # return 5 options: 4 data_types and 'none', a df is printed
#chosen_data_list[[step]] <- data_alternative_list$chosen_data
#difference_value_list[[step]] <- data_alternative_list$difference_value
#voi_value_list[[step]] <- data_alternative_list$voi_value
#if(difference_value_list[[step]]>0){
print(paste('We gather data:', data_s))
survey_data_list[[step]] <- data_s
print(paste('Index of data_y is index =', index_survey))
sampled_data_y = survey_set[[data_s]] %>% filter(index==index_survey)
#print(sampled_data_y)
#print(class(sampled_data_y))
sites_csem <- ncol(sampled_data_y) - 2
updated_values <- assimilate_data(particles_set[[data_s]], sampled_data_y, w1, df_vs, inverse_of_matrix_R(modus = data_s, sites_csem = sites_csem))
w1 <- updated_values$w1
df_vs <- updated_values$posterior_vs
chosen_alternative = make_decision(t, w1)
print(paste('Decision is at time t =', t, 'is',chosen_alternative))
print(paste('Updated value of w1 =',round(w1,3)))
list_weights[[step]] <- w1
list_v_values[[step]] <- df_vs
if(chosen_alternative == 'stop'){
stop_time <- t
print(paste('We choose to stop at time step t =',t))
break
}
}
#
return(list(w_values = list_weights, v_values = list_v_values, stop_time = stop_time, surveys = survey_data_list))
}
today <- format(Sys.time(), '%d%m%y%H%M%S')
file_out <- paste(path_out, 'prints_fixed_', today, '.txt', sep = '')
list_global <- list()
start <- proc.time()
for(k in 1:100){
print(k)
list_global[[k]] <- fixed_monitoring_plan(indexes_for_voi, index_survey = indexes_for_survey[k], survey_vector, time_vector, labels_array, parent_directory)
}
end <- proc.time()
file_out <- paste(path_out, 'list_fixed_', today, '.RData', sep = '')
save(list_global, file = file_out)
res <- summarize_results(list_global, indexes_for_survey, labels_array)
df_fixed_plan <- res$df
res$summary
res$meanings
df_stop_fixed <- df_fixed_plan %>% filter(binary_stop == 1)
df_continue_fixed <- df_fixed_plan %>% filter(binary_stop == 0)
# FN & FP
df_fn_fixed <- df_continue_fixed %>% filter(df_continue_fixed$scenario != df_continue_fixed$binary_stop)
df_fp_fixed <- df_stop_fixed %>% filter(df_stop_fixed$scenario != df_stop_fixed$binary_stop)
survey_vector
df <- df_fixed_plan
surveys <- df %>% select(c(survey_1, survey_2, survey_3, survey_4, survey_5, survey_6, survey_7, survey_8))
surveys[surveys == 'higher_seismic'] <- 2.1
surveys[surveys == 'lower_seismic'] <- 2.0
surveys[surveys == 'higher_csem'] <- 0.5
surveys[surveys == 'lower_csem'] <- 0.4
surveys[surveys == 'none'] <- 0.0
# average cost per ensemble
m <- as.numeric(as.matrix(surveys))
head(m)
m <- matrix(m, ncol = 8, byrow = FALSE)
mean(rowSums(m, na.rm = TRUE))
# average number of surveys
mean(rowSums(m > 0.0, na.rm = TRUE))
save.image(file = '/Users/susanany/phd_research/sequential_voi/code/analyzing_results/fixed_monitoring_111022_two_lower.RData')
#source('/Users/susanany/phd_research/co2_dynamic/code/simulation_case/src/functions.R')
parent_dir <- '/Users/susanany/phd_research/sequential_voi/code/'
source_name <- paste(parent_dir, 'simulation_case/src/functions.R', sep = '')
source(source_name)
load(paste(parent_dir, 'data/saturation_data/cases.RData', sep = ''))
indexes_for_voi <- new_partition_indexes(labels = labels_array, seed = 1234, size_of_partition = 300)
indexes_for_survey <- new_complement_indexes_balanced(labels = labels_array, indexes_for_voi, seed = 1234, size_of_partition = 100)
path_out <- paste(parent_dir, 'simulation_case/output/', sep = '')
###########
parent_directory <- parent_dir
#index_survey <- indexes_for_survey[5] # interesting case, if lower seismic at t=5 then stop, else higher seismic and we continue
# data vector index by time step
# inspect how these objects change over time: particles_set, survey_set
survey_vector <- c('higher_seismic', 'higher_csem')
#survey_vector <- c('lower_seismic', 'lower_csem')
time_vector <- c(5, 14)
#survey_vector <- c('lower_seismic', 'lower_csem', 'lower_seismic', 'lower_csem')
#survey_vector <- c('higher_seismic', 'higher_csem', 'higher_seismic', 'higher_csem')
#time_vector <- c(5, 14)
fixed_monitoring_plan <- function(indexes_for_voi, index_survey, survey_vector, time_vector, labels_array, parent_directory){
years <-time_vector
time_steps <- length(years)
stop_time <- 0
list_weights <- list()
list_v_values <- list()
survey_data_list <- list()
for (step in 1:time_steps){
particles_set <- list()
print(paste('length list particles=', length(particles_set)))
survey_set <- list()
# start block
t = years[step]
data_s <- survey_vector[step]
dataset <- load_realizations(data_s, t, labels_array, parent_directory)
sites_csem <- ncol(dataset) - 2
particles_set[[data_s]] <- new_select_realizations(dataset, indexes_for_voi)
print(paste('length list particles=', length(particles_set)))
survey_set[[data_s]] <- new_select_realizations(dataset, index_survey)
if(step==1){
w1 <- 0.25
df_vs <- new_set_initial_weights(particles_set[[data_s]])
}
print(paste('Current w1 =',round(w1,3)))
#data_alternative_list<- compute_data_alternative(results_t, price_list) # return 5 options: 4 data_types and 'none', a df is printed
#chosen_data_list[[step]] <- data_alternative_list$chosen_data
#difference_value_list[[step]] <- data_alternative_list$difference_value
#voi_value_list[[step]] <- data_alternative_list$voi_value
#if(difference_value_list[[step]]>0){
print(paste('We gather data:', data_s))
survey_data_list[[step]] <- data_s
print(paste('Index of data_y is index =', index_survey))
sampled_data_y = survey_set[[data_s]] %>% filter(index==index_survey)
#print(sampled_data_y)
#print(class(sampled_data_y))
sites_csem <- ncol(sampled_data_y) - 2
updated_values <- assimilate_data(particles_set[[data_s]], sampled_data_y, w1, df_vs, inverse_of_matrix_R(modus = data_s, sites_csem = sites_csem))
w1 <- updated_values$w1
df_vs <- updated_values$posterior_vs
chosen_alternative = make_decision(t, w1)
print(paste('Decision is at time t =', t, 'is',chosen_alternative))
print(paste('Updated value of w1 =',round(w1,3)))
list_weights[[step]] <- w1
list_v_values[[step]] <- df_vs
if(chosen_alternative == 'stop'){
stop_time <- t
print(paste('We choose to stop at time step t =',t))
break
}
}
#
return(list(w_values = list_weights, v_values = list_v_values, stop_time = stop_time, surveys = survey_data_list))
}
today <- format(Sys.time(), '%d%m%y%H%M%S')
file_out <- paste(path_out, 'prints_fixed_', today, '.txt', sep = '')
list_global <- list()
start <- proc.time()
for(k in 1:100){
print(k)
list_global[[k]] <- fixed_monitoring_plan(indexes_for_voi, index_survey = indexes_for_survey[k], survey_vector, time_vector, labels_array, parent_directory)
}
end <- proc.time()
file_out <- paste(path_out, 'list_fixed_', today, '.RData', sep = '')
save(list_global, file = file_out)
res <- summarize_results(list_global, indexes_for_survey, labels_array)
df_fixed_plan <- res$df
res$summary
res$meanings
df_stop_fixed <- df_fixed_plan %>% filter(binary_stop == 1)
df_continue_fixed <- df_fixed_plan %>% filter(binary_stop == 0)
# FN & FP
df_fn_fixed <- df_continue_fixed %>% filter(df_continue_fixed$scenario != df_continue_fixed$binary_stop)
df_fp_fixed <- df_stop_fixed %>% filter(df_stop_fixed$scenario != df_stop_fixed$binary_stop)
df <- df_fixed_plan
surveys <- df %>% select(c(survey_1, survey_2, survey_3, survey_4, survey_5, survey_6, survey_7, survey_8))
surveys[surveys == 'higher_seismic'] <- 2.1
surveys[surveys == 'lower_seismic'] <- 2.0
surveys[surveys == 'higher_csem'] <- 0.5
surveys[surveys == 'lower_csem'] <- 0.4
surveys[surveys == 'none'] <- 0.0
# average cost per ensemble
m <- as.numeric(as.matrix(surveys))
head(m)
m <- matrix(m, ncol = 8, byrow = FALSE)
mean(rowSums(m, na.rm = TRUE))
# average number of surveys
mean(rowSums(m > 0.0, na.rm = TRUE))
survey_vector
save.image(file = '/Users/susanany/phd_research/sequential_voi/code/analyzing_results/fixed_monitoring_111022_two_higher.RData')
#source('/Users/susanany/phd_research/co2_dynamic/code/simulation_case/src/functions.R')
parent_dir <- '/Users/susanany/phd_research/sequential_voi/code/'
source_name <- paste(parent_dir, 'simulation_case/src/functions.R', sep = '')
source(source_name)
load(paste(parent_dir, 'data/saturation_data/cases.RData', sep = ''))
indexes_for_voi <- new_partition_indexes(labels = labels_array, seed = 1234, size_of_partition = 300)
indexes_for_survey <- new_complement_indexes_balanced(labels = labels_array, indexes_for_voi, seed = 1234, size_of_partition = 100)
path_out <- paste(parent_dir, 'simulation_case/output/', sep = '')
###########
parent_directory <- parent_dir
#index_survey <- indexes_for_survey[5] # interesting case, if lower seismic at t=5 then stop, else higher seismic and we continue
# data vector index by time step
# inspect how these objects change over time: particles_set, survey_set
#survey_vector <- c('higher_seismic', 'higher_csem')
#survey_vector <- c('lower_seismic', 'lower_csem')
#time_vector <- c(5, 14)
survey_vector <- c('lower_seismic', 'lower_csem', 'lower_seismic', 'lower_csem')
#survey_vector <- c('higher_seismic', 'higher_csem', 'higher_seismic', 'higher_csem')
time_vector <- c(5, 8, 11, 14)
fixed_monitoring_plan <- function(indexes_for_voi, index_survey, survey_vector, time_vector, labels_array, parent_directory){
years <-time_vector
time_steps <- length(years)
stop_time <- 0
list_weights <- list()
list_v_values <- list()
survey_data_list <- list()
for (step in 1:time_steps){
particles_set <- list()
print(paste('length list particles=', length(particles_set)))
survey_set <- list()
# start block
t = years[step]
data_s <- survey_vector[step]
dataset <- load_realizations(data_s, t, labels_array, parent_directory)
sites_csem <- ncol(dataset) - 2
particles_set[[data_s]] <- new_select_realizations(dataset, indexes_for_voi)
print(paste('length list particles=', length(particles_set)))
survey_set[[data_s]] <- new_select_realizations(dataset, index_survey)
if(step==1){
w1 <- 0.25
df_vs <- new_set_initial_weights(particles_set[[data_s]])
}
print(paste('Current w1 =',round(w1,3)))
#data_alternative_list<- compute_data_alternative(results_t, price_list) # return 5 options: 4 data_types and 'none', a df is printed
#chosen_data_list[[step]] <- data_alternative_list$chosen_data
#difference_value_list[[step]] <- data_alternative_list$difference_value
#voi_value_list[[step]] <- data_alternative_list$voi_value
#if(difference_value_list[[step]]>0){
print(paste('We gather data:', data_s))
survey_data_list[[step]] <- data_s
print(paste('Index of data_y is index =', index_survey))
sampled_data_y = survey_set[[data_s]] %>% filter(index==index_survey)
#print(sampled_data_y)
#print(class(sampled_data_y))
sites_csem <- ncol(sampled_data_y) - 2
updated_values <- assimilate_data(particles_set[[data_s]], sampled_data_y, w1, df_vs, inverse_of_matrix_R(modus = data_s, sites_csem = sites_csem))
w1 <- updated_values$w1
df_vs <- updated_values$posterior_vs
chosen_alternative = make_decision(t, w1)
print(paste('Decision is at time t =', t, 'is',chosen_alternative))
print(paste('Updated value of w1 =',round(w1,3)))
list_weights[[step]] <- w1
list_v_values[[step]] <- df_vs
if(chosen_alternative == 'stop'){
stop_time <- t
print(paste('We choose to stop at time step t =',t))
break
}
}
#
return(list(w_values = list_weights, v_values = list_v_values, stop_time = stop_time, surveys = survey_data_list))
}
today <- format(Sys.time(), '%d%m%y%H%M%S')
file_out <- paste(path_out, 'prints_fixed_', today, '.txt', sep = '')
list_global <- list()
start <- proc.time()
for(k in 1:100){
print(k)
list_global[[k]] <- fixed_monitoring_plan(indexes_for_voi, index_survey = indexes_for_survey[k], survey_vector, time_vector, labels_array, parent_directory)
}
end <- proc.time()
file_out <- paste(path_out, 'list_fixed_', today, '.RData', sep = '')
save(list_global, file = file_out)
res <- summarize_results(list_global, indexes_for_survey, labels_array)
df_fixed_plan <- res$df
res$summary
res$meanings
df_stop_fixed <- df_fixed_plan %>% filter(binary_stop == 1)
df_continue_fixed <- df_fixed_plan %>% filter(binary_stop == 0)
# FN & FP
df_fn_fixed <- df_continue_fixed %>% filter(df_continue_fixed$scenario != df_continue_fixed$binary_stop)
df_fp_fixed <- df_stop_fixed %>% filter(df_stop_fixed$scenario != df_stop_fixed$binary_stop)
survey_vector
df <- df_fixed_plan
surveys <- df %>% select(c(survey_1, survey_2, survey_3, survey_4, survey_5, survey_6, survey_7, survey_8))
surveys[surveys == 'higher_seismic'] <- 2.1
surveys[surveys == 'lower_seismic'] <- 2.0
surveys[surveys == 'higher_csem'] <- 0.5
surveys[surveys == 'lower_csem'] <- 0.4
surveys[surveys == 'none'] <- 0.0
# average cost per ensemble
m <- as.numeric(as.matrix(surveys))
head(m)
m <- matrix(m, ncol = 8, byrow = FALSE)
mean(rowSums(m, na.rm = TRUE))
# average number of surveys
mean(rowSums(m > 0.0, na.rm = TRUE))
save.image(file = '/Users/susanany/phd_research/sequential_voi/code/analyzing_results/fixed_monitoring_111022_four_lower.RData')
#source('/Users/susanany/phd_research/co2_dynamic/code/simulation_case/src/functions.R')
parent_dir <- '/Users/susanany/phd_research/sequential_voi/code/'
source_name <- paste(parent_dir, 'simulation_case/src/functions.R', sep = '')
source(source_name)
load(paste(parent_dir, 'data/saturation_data/cases.RData', sep = ''))
indexes_for_voi <- new_partition_indexes(labels = labels_array, seed = 1234, size_of_partition = 300)
indexes_for_survey <- new_complement_indexes_balanced(labels = labels_array, indexes_for_voi, seed = 1234, size_of_partition = 100)
path_out <- paste(parent_dir, 'simulation_case/output/', sep = '')
###########
parent_directory <- parent_dir
#index_survey <- indexes_for_survey[5] # interesting case, if lower seismic at t=5 then stop, else higher seismic and we continue
# data vector index by time step
# inspect how these objects change over time: particles_set, survey_set
#survey_vector <- c('higher_seismic', 'higher_csem')
#survey_vector <- c('lower_seismic', 'lower_csem')
#time_vector <- c(5, 14)
#survey_vector <- c('lower_seismic', 'lower_csem', 'lower_seismic', 'lower_csem')
survey_vector <- c('higher_seismic', 'higher_csem', 'higher_seismic', 'higher_csem')
time_vector <- c(5, 8, 11, 14)
fixed_monitoring_plan <- function(indexes_for_voi, index_survey, survey_vector, time_vector, labels_array, parent_directory){
years <-time_vector
time_steps <- length(years)
stop_time <- 0
list_weights <- list()
list_v_values <- list()
survey_data_list <- list()
for (step in 1:time_steps){
particles_set <- list()
print(paste('length list particles=', length(particles_set)))
survey_set <- list()
# start block
t = years[step]
data_s <- survey_vector[step]
dataset <- load_realizations(data_s, t, labels_array, parent_directory)
sites_csem <- ncol(dataset) - 2
particles_set[[data_s]] <- new_select_realizations(dataset, indexes_for_voi)
print(paste('length list particles=', length(particles_set)))
survey_set[[data_s]] <- new_select_realizations(dataset, index_survey)
if(step==1){
w1 <- 0.25
df_vs <- new_set_initial_weights(particles_set[[data_s]])
}
print(paste('Current w1 =',round(w1,3)))
#data_alternative_list<- compute_data_alternative(results_t, price_list) # return 5 options: 4 data_types and 'none', a df is printed
#chosen_data_list[[step]] <- data_alternative_list$chosen_data
#difference_value_list[[step]] <- data_alternative_list$difference_value
#voi_value_list[[step]] <- data_alternative_list$voi_value
#if(difference_value_list[[step]]>0){
print(paste('We gather data:', data_s))
survey_data_list[[step]] <- data_s
print(paste('Index of data_y is index =', index_survey))
sampled_data_y = survey_set[[data_s]] %>% filter(index==index_survey)
#print(sampled_data_y)
#print(class(sampled_data_y))
sites_csem <- ncol(sampled_data_y) - 2
updated_values <- assimilate_data(particles_set[[data_s]], sampled_data_y, w1, df_vs, inverse_of_matrix_R(modus = data_s, sites_csem = sites_csem))
w1 <- updated_values$w1
df_vs <- updated_values$posterior_vs
chosen_alternative = make_decision(t, w1)
print(paste('Decision is at time t =', t, 'is',chosen_alternative))
print(paste('Updated value of w1 =',round(w1,3)))
list_weights[[step]] <- w1
list_v_values[[step]] <- df_vs
if(chosen_alternative == 'stop'){
stop_time <- t
print(paste('We choose to stop at time step t =',t))
break
}
}
#
return(list(w_values = list_weights, v_values = list_v_values, stop_time = stop_time, surveys = survey_data_list))
}
today <- format(Sys.time(), '%d%m%y%H%M%S')
file_out <- paste(path_out, 'prints_fixed_', today, '.txt', sep = '')
list_global <- list()
start <- proc.time()
for(k in 1:100){
print(k)
list_global[[k]] <- fixed_monitoring_plan(indexes_for_voi, index_survey = indexes_for_survey[k], survey_vector, time_vector, labels_array, parent_directory)
}
end <- proc.time()
file_out <- paste(path_out, 'list_fixed_', today, '.RData', sep = '')
save(list_global, file = file_out)
res <- summarize_results(list_global, indexes_for_survey, labels_array)
df_fixed_plan <- res$df
res$summary
res$meanings
df_stop_fixed <- df_fixed_plan %>% filter(binary_stop == 1)
df_continue_fixed <- df_fixed_plan %>% filter(binary_stop == 0)
# FN & FP
df_fn_fixed <- df_continue_fixed %>% filter(df_continue_fixed$scenario != df_continue_fixed$binary_stop)
df_fp_fixed <- df_stop_fixed %>% filter(df_stop_fixed$scenario != df_stop_fixed$binary_stop)
survey_vector
df <- df_fixed_plan
surveys <- df %>% select(c(survey_1, survey_2, survey_3, survey_4, survey_5, survey_6, survey_7, survey_8))
surveys[surveys == 'higher_seismic'] <- 2.1
surveys[surveys == 'lower_seismic'] <- 2.0
surveys[surveys == 'higher_csem'] <- 0.5
surveys[surveys == 'lower_csem'] <- 0.4
surveys[surveys == 'none'] <- 0.0
# average cost per ensemble
m <- as.numeric(as.matrix(surveys))
head(m)
m <- matrix(m, ncol = 8, byrow = FALSE)
mean(rowSums(m, na.rm = TRUE))
# average number of surveys
mean(rowSums(m > 0.0, na.rm = TRUE))
save.image(file = '/Users/susanany/phd_research/sequential_voi/code/analyzing_results/fixed_monitoring_111022_four_higher.RData')
parent_dir <- '/Users/susanany/phd_research/sequential_voi/code/'
source_name <- paste(parent_dir, 'simulation_case/src/functions.R', sep = '')
source(source_name)
today <- format(Sys.time(), '%d%m%y%H%M%S')
load(paste(parent_dir, 'data/saturation_data/cases.RData', sep = ''))
indexes_for_voi <- new_partition_indexes(labels = labels_array, seed = 1234, size_of_partition = 300)
indexes_for_survey <- new_complement_indexes_balanced(labels = labels_array, indexes_for_voi, seed = 1234, size_of_partition = 100)
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#
#### adaptive monitoring plan t = 5, ... #
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#
load("/Users/susanany/phd_research/sequential_voi/code/analyzing_results/objects_031022.RData")
surveys <- df %>% select(c(survey_1, survey_2, survey_3, survey_4, survey_5, survey_6, survey_7, survey_8))
surveys[surveys == 'higher_seismic'] <- 2.1
surveys[surveys == 'lower_seismic'] <- 2.0
surveys[surveys == 'higher_csem'] <- 0.5
surveys[surveys == 'lower_csem'] <- 0.4
surveys[surveys == 'none'] <- 0.0
# average cost per ensemble
m <- as.numeric(as.matrix(surveys))
head(m)
m <- matrix(m, ncol = 8, byrow = FALSE)
mean(rowSums(m, na.rm = TRUE))
# average number of surveys
mean(rowSums(m > 0.0, na.rm = TRUE))
list_results$summary
